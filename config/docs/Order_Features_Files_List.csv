Đợt,Chức năng,Loại,Đường dẫn file,Mô tả,Phụ thuộc
Đợt 1,Order Creation Screen,BE,controllers/orderController.js,createOrder() function (lines 47-409),
Đợt 1,Order Creation Screen,BE,routes/orderRoutes.js,POST /orders route (line 19),
Đợt 1,Order Creation Screen,BE,models/order.model.js,Order schema (toàn bộ file),
Đợt 1,Order Creation Screen,BE,utils/pricing.js,calculatePrice() function (nếu có),
Đợt 1,Order Creation Screen,BE,index.js,Socket.IO setup - emit order:available:new (lines 26-47),
Đợt 1,Order Creation Screen,FE,src/pages/user/OrderCreate.jsx,Component tạo đơn hàng,
Đợt 1,Order Creation Screen,FE,src/features/orders/api/orderService.js,createOrder() method (line 6),
Đợt 1,Order Creation Screen,FE,src/features/orders/api/endpoints.js,ORDER_ENDPOINTS.createOrder,
Đợt 1,Order Creation Screen,FE,src/pages/user/components/OrderSummary.jsx,Component tóm tắt đơn hàng (nếu dùng),
Đợt 1,Order Creation Screen,FE,src/pages/user/components/OrderSummaryModal.jsx,Modal tóm tắt đơn hàng (nếu dùng),
Đợt 2,Driver Available Orders Screen,BE,controllers/orderController.js,getAvailableOrders() function,
Đợt 2,Driver Available Orders Screen,BE,routes/orderRoutes.js,GET /orders/driver/available route (line 37),
Đợt 2,Driver Available Orders Screen,BE,models/driver.model.js,Driver schema với currentLocation serviceAreas,
Đợt 2,Driver Available Orders Screen,BE,models/vehicle.model.js,Vehicle schema với vehicle type maxWeightKg,
Đợt 2,Driver Available Orders Screen,FE,src/pages/driver/Orders.jsx,Tab "Đơn có sẵn" refetchAvailableOrders() Socket.IO listener,
Đợt 2,Driver Available Orders Screen,FE,src/features/orders/api/orderService.js,getAvailableOrders() method (line 21),
Đợt 2,Driver Available Orders Screen,FE,src/features/orders/api/endpoints.js,ORDER_ENDPOINTS.driverAvailableOrders,
Đợt 3,Order Acceptance Feature,BE,controllers/orderController.js,acceptOrderItem() function (lines 438-553),
Đợt 3,Order Acceptance Feature,BE,routes/orderRoutes.js,PUT /orders/:orderId/items/:itemId/accept route (line 40),
Đợt 3,Order Acceptance Feature,BE,index.js,Socket.IO emit order:accepted event,
Đợt 3,Order Acceptance Feature,FE,src/pages/driver/Orders.jsx,handleAcceptOrder() function UI button "Nhận đơn",
Đợt 3,Order Acceptance Feature,FE,src/features/orders/api/orderService.js,acceptItem() method (line 24),
Đợt 3,Order Acceptance Feature,FE,src/features/orders/api/endpoints.js,ORDER_ENDPOINTS.acceptItem,
Đợt 4,Real-time Order Tracking,BE,index.js,Socket.IO customer:join handler emit order:accepted order:status:updated,
Đợt 4,Real-time Order Tracking,BE,controllers/orderController.js,getOrderDetail() function Socket.IO emit trong acceptOrderItem() updateOrderItemStatus(),
Đợt 4,Real-time Order Tracking,BE,routes/orderRoutes.js,GET /orders/:orderId route (line 46),
Đợt 4,Real-time Order Tracking,FE,src/pages/user/OrderTracking.jsx,Component tracking đơn hàng Socket.IO client Google Maps,
Đợt 4,Real-time Order Tracking,FE,src/pages/user/Orders.jsx,Component danh sách đơn hàng link đến OrderTracking,
Đợt 4,Real-time Order Tracking,FE,src/features/orders/api/orderService.js,getOrderDetail() method (line 12),
Đợt 4,Real-time Order Tracking,FE,src/features/orders/api/endpoints.js,ORDER_ENDPOINTS.orderDetail,
Đợt 5,Order Status Update Flow,BE,controllers/orderController.js,updateOrderItemStatus() function (lines 565-691) Payment processing logic,
Đợt 5,Order Status Update Flow,BE,controllers/driverRevenueController.js,createDriverTransaction() function (nếu có),
Đợt 5,Order Status Update Flow,BE,models/driverTransaction.model.js,DriverTransaction schema,
Đợt 5,Order Status Update Flow,BE,models/driver.model.js,Driver schema với incomeBalance field,
Đợt 5,Order Status Update Flow,BE,routes/orderRoutes.js,PUT /orders/:orderId/items/:itemId/status route (line 43),
Đợt 5,Order Status Update Flow,BE,index.js,Socket.IO emit order:status:updated event,
Đợt 5,Order Status Update Flow,FE,src/pages/driver/Orders.jsx,handleUpdateStatus() handleConfirmPaid() UI buttons renderOrderSteps(),
Đợt 5,Order Status Update Flow,FE,src/features/orders/api/orderService.js,updateItemStatus() method (line 27),
Đợt 5,Order Status Update Flow,FE,src/features/orders/api/endpoints.js,ORDER_ENDPOINTS.updateItemStatus,
Files chung,Common Files,BE,middleware/auth.js,authenticate authorize middleware roles constants,
Files chung,Common Files,BE,config/db.js,MongoDB connection,
Files chung,Common Files,BE,config/config.js,Configuration settings,
Files chung,Common Files,BE,app.js,Express app setup middleware route mounting,
Files chung,Common Files,FE,src/authentication/api/axiosClient.js,Axios instance với interceptors,
Files chung,Common Files,FE,src/authentication/api/endpoints.js,API endpoints base URLs,
Files chung,Common Files,FE,src/features/orders/api/endpoints.js,ORDER_ENDPOINTS definitions,








